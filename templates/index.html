{% extends "layout.html" %}
{% block body %}


<div class="container-fluid">
  <div class="row">
    <div class="col-sm">
        <input type="text" class="form-control form-control-lg" 
          id="username" placeholder="Need to auto-generate username here" >
    </div> 
    <div class="col-sm">
        <div class="input-group">
          <input type="text" class="form-control form-control-lg" id="youtubeUrl" 
            name="youtubeUrl" placeholder="Enter URL here">
          <div class="input-group-append">
            <button class="btn btn-success"  onclick="download_video()">Go</button>
          </div>
        </div>
    </div>
  </div>
</div>


<div class="container-fluid">
    <div class="row">
      <div class="col-sm">
        <input type="text" class="form-control form-control-lg" id="currentlyPlaying">
        <div class="progress">
            <div id="video_progress" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;" ></div>
        </div>
        <div class="btn-group btn-group-justified" role="group" aria-label="Basic example">
          <div class="form-control">3:99</div>
            <button type="button" class="btn btn-secondary .btn-lg playerControls" onclick="raw_command('prev')" >Prev</button>
            <button type="button" class="btn btn-secondary .btn-lg playerControls" onclick="raw_command('pause')" >Play/Pause</button>
            <button type="button" class="btn btn-secondary .btn-lg playerControls" onclick="raw_command('next')" >Next</button>
            <button type="button" class="btn btn-secondary .btn-lg playerControls" onclick="get_song()" >info</button>
        </div>

        <div>
            <h3>Videos <button class="btn btn-primary .btn-lg " onclick="get_list()" >Refresh File List</button> <button class="btn btn-primary .btn-lg " onclick="clean_video_list()" >Clean File List</button></h3>
            <input type="text" id="videoSearch" class="fileSearch" onkeyup="searchUL('videoSearch', 'videoUL')" 
              placeholder="Search..." title="Type in a name">
            <div>
            <ul id="videoUL" class="fileUL list-group"></ul>
            </div>
        </div>
  
      </div> 
      <div class="col-sm">
          <button class="btn btn-primary" onclick="get_queue()" >Refresh Queue</button>
          <button class="btn btn-primary" onclick="clear_queue()" >Clear Queue</button>
          <div id="queue"></div>
      </div>
  </div>
</div>

<!-- <text id=rating>5</text><button onclick="rate_video($('id').val())" class="btn btn-primary" >rate</button><br> -->

  <div class="container-fluid">
      <div class="row">
        <div class="col-sm"></div>
        </div>      
        <div class="col-sm"></div>
        </div>
      </div> 
  </div>

  <ol id="myUL">
      <li><a href="#">click file in list shows options for file, like delete, re-rate, add ect</a></li>
      <li><a href="#">implement queue</a></li>
      <li><a href="#">add to queue</a></li>
      <li><a href="#">cache telnet calls on server</a></li>
      <li><a href="#">is_dirty flags for file list and queue</a></li>
      <li><a href="#">block/queue downloads while currently downloading</a></li>
      <li><a href="#">rating interface (right click menu?)</a></li>
      <li><a href="#">final layout</a></li>
      <li><a href="#">show thumbnail</a></li>
      <li><a href="#">show tick boxes to filter by user/s</a></li>
      <li><a href="#">list box to the right of the songs list, can drag songs in to create playlist (name box at top, save at bottom), adding playlist just jams all the songs at the end of current playlist, playlists just show up at top of song list</a></li>
      <li><a href="#">add function to scan directory/s for missing files</a></li>
      <li><a href="#">use web sockets to maintain status</a></li>
      <li><a href="#">check if videojs is worth the effort</a></li>
      <li><a href="#">check for black bars with "ffmpeg -ss 90 -i input.mp4 -vframes 10 -vf cropdetect -f null -" from https://superuser.com/questions/810471/remove-mp4-video-top-and-bottom-black-bars-using-ffmpeg and change crop on vlc to match</a></li>
  </ul>
  
  <script>
    function searchUL(searchBoxId, ulId) {
      var input, filter, ul, li, a, i, txtValue;
      // search box
      input = document.getElementById(searchBoxId);
      filter = input.value.toUpperCase();
      ul = document.getElementById(ulId);
      li = ul.getElementsByTagName("li");
      // not sure how well this will work with 1000 items
      for (i = 0; i < li.length; i++) {
          a = li[i].getElementsByTagName("a")[0];
          txtValue = a.textContent || a.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
              li[i].style.display = "";
          } else {
              li[i].style.display = "none";
          }
      }
  }
  </script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js" 
   crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" 
  integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" 
  integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

  <script src="/static/javascript/jquery.growl.js" type="text/javascript"></script>
  <link href="/static/stylesheets/jquery.growl.css" rel="stylesheet" type="text/css" />

<script src="/static/scripts/controls.js"></script>


{% endblock %}
