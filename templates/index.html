{% extends "layout.html" %}
{% block body %}


<div class="container-fluid">
  <div class="row">
    <div class="col-sm">
        <input type="text" class="form-control form-control-lg"  id="username" placeholder="Need to auto-generate username here" >
    </div> 
    <div class="col-sm">
        <input type=text size=50 id=youtubeUrl name=youtubeUrl placeholder="Enter URL here, please only include url before &list= (for now)"><br> 
        <button class="btn btn-primary" onclick="download_video()" >download</button><br>
    </div>
  </div>
</div>


<div class="container-fluid">
    <div class="row">
      <div class="col-sm">
        song length <input type="text" id="song_length" placeholder="not set">
        <button type="button" class="btn btn-secondary playerControls" onclick="get_length()" >info</button><br>
        time left <input type="text" id="song_remaining" placeholder="not set">
        <button type="button" class="btn btn-secondary playerControls" onclick="raw_command('get_time', function(resp){$('#song_remaining').val(resp)})" >info</button><br>
        

        <input type="text" class="form-control form-control-lg" id="currentlyPlaying">
        <div class="btn-group btn-group-justified" role="group" aria-label="Basic example">
            <button type="button" class="btn btn-secondary playerControls" onclick="raw_command('prev')" >Prev</button>
            <button type="button" class="btn btn-secondary playerControls" onclick="raw_command('pause')" >Play/Pause</button>
            <button type="button" class="btn btn-secondary playerControls" onclick="raw_command('next')" >Next</button>
            <button type="button" class="btn btn-secondary playerControls" onclick="get_song()" >info</button>
            <button type="button" class="btn btn-secondary playerControls" onclick="get_queue()" >reload queue</button>
        </div>

        <div>
            <h3>Main file list, click to enque <button class="btn btn-primary" onclick="get_list()" >Refresh File List</button></h3>
            <input type="text" id="videoSearch" class="fileSearch" onkeyup="searchUL('videoSearch', 'videoUL')" 
              placeholder="Search for names.." title="Type in a name">
            <ul id="videoUL" class="fileUL"></ul>
        </div>
  
      </div> 
      <div class="col-sm">
          <button class="btn btn-primary" onclick="get_queue()" >Refresh Queue</button>
          <div id="queue"></div>
      </div>
  </div>
</div>

<!-- <text id=rating>5</text><button onclick="rate_video($('id').val())" class="btn btn-primary" >rate</button><br> -->

  <div class="container-fluid">
      <div class="row">
        <div class="col-sm"></div>
        </div>      
        <div class="col-sm"></div>
        </div>
      </div> 
  </div>

  <ol id="myUL">
      <li><a href="#">rating interface (right click menu?)</a></li>
      <li><a href="#">refresh currently playing</a></li>
      <li><a href="#">slider showing song position</a></li>
      <li><a href="#">do initial layout</a></li>
      <li><a href="#">implement & show queue</a></li>
      <li><a href="#">add to queue</a></li>
      <li><a href="#">show thumbnail</a></li>
      <li><a href="#">show tick boxes to filter by user/s</a></li>
      <li><a href="#">list box to the right of the songs list, can drag songs in to create playlist (name box at top, save at bottom), adding playlist just jams all the songs at the end of current playlist, playlists just show up at top of song list</a></li>
      <li><a href="#">add function to scan directory/s for missing files</a></li>
      <li><a href="#">use web sockets to maintain status</a></li>
  </ul>
  
  <script>
    function searchUL(searchBoxId, ulId) {
      var input, filter, ul, li, a, i, txtValue;
      // search box
      input = document.getElementById(searchBoxId);
      filter = input.value.toUpperCase();
      ul = document.getElementById(ulId);
      li = ul.getElementsByTagName("li");
      // not sure how well this will work with 1000 items
      for (i = 0; i < li.length; i++) {
          a = li[i].getElementsByTagName("a")[0];
          txtValue = a.textContent || a.innerText;
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
              li[i].style.display = "";
          } else {
              li[i].style.display = "none";
          }
      }
  }
  </script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js" 
   crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" 
  integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" 
  integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script src="/static/scripts/controls.js"></script>


{% endblock %}
